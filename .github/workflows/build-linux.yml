name: Build Linux

on:
  workflow_dispatch:
  workflow_call:
    inputs: 
      unityVersion:
        required: false
        type: string
        default: '6000.2.10f1'
        description: 'Version of Unity to use for the build.'
      sendToDiscord: 
        required: false
        default: false
        type: boolean
        description: 'Whether to send a notification to Discord.'
    secrets:
      UNITY_LICENSE:
        required: true
      UNITY_EMAIL:
        required: true
      UNITY_PASSWORD:
        required: true
      DISCORD_WEBHOOK_URL:
        required: false
      ITCHIO_API_KEY:
        required: false

jobs:
  build:
    name: üêß Build Linux
    uses: RiojaDevs/GameCI_Devops/.github/workflows/build-core.yml@DESARROLLO
    with:
      unityVersion: ${{ inputs.unityVersion }}
      buildTarget: StandaloneLinux64
      sendToDiscord: ${{ inputs.sendToDiscord }}
    secrets: inherit
